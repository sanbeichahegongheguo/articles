## ä¸€ã€Anacondaä»‹ç»

**Anaconda**æ˜¯ä¸€ä¸ªPythonçš„ç§‘å­¦è®¡ç®—å‘è¡Œç‰ˆï¼ŒåŒ…å«äº†è¶…è¿‡300ä¸ªæµè¡Œçš„ç”¨äºç§‘å­¦ã€æ•°å­¦ã€å·¥ç¨‹å’Œæ•°æ®åˆ†æçš„Python Packagesã€‚ç”±äºPythonæœ‰2å’Œ3ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå› æ­¤Anacondaä¹Ÿåœ¨Python2å’ŒPython3çš„åŸºç¡€ä¸Šæ¨å‡ºäº†ä¸¤ä¸ªå‘è¡Œç‰ˆï¼Œå³**Anaconda2**å’Œ**Anaconda3**ã€‚

## äºŒã€Anacondaç‰ˆæœ¬
## ä¸‰ã€åŒæ—¶å®‰è£…Anaconda2\3

### Windowsä¸‹åŒæ—¶å®‰è£…Anaconda2å’ŒAnaconda3

### *å‰è¨€*

------

æœ‰æ—¶å€™æˆ‘ä»¬ä¼šåœ¨ç”µè„‘ä¸ŠåŒæ—¶ä½¿ç”¨Anaconda2å’ŒAnaconda3ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå› æ­¤æœ‰å¿…è¦è€ƒè™‘å®ƒä»¬çš„å…±å­˜é—®é¢˜ã€‚ä¸€èˆ¬çš„ä½¿ç”¨åœºæ™¯æ˜¯ä»¥å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬ä¸ºä¸»ï¼Œå¦å¤–ä¸€ä¸ªç‰ˆæœ¬ä¸ºè¾…ï¼Œå› æ­¤åªéœ€è¦è¾¾åˆ°èƒ½æ–¹ä¾¿çš„åˆ‡æ¢åˆ°å¤‡ç”¨ç‰ˆæœ¬ï¼Œä¸”å¤‡ç”¨ç‰ˆæœ¬çš„pipç­‰å‘½ä»¤èƒ½æ­£å¸¸ä½¿ç”¨å³å¯ã€‚

ç”±äºAnaconda2å’ŒAnaconda3åŒ…å«è¾ƒå¤šçš„æ¨¡å—ï¼Œå¾ˆå¤šäººæ˜¯ä¸éœ€è¦è¿™äº›çš„ï¼Œå› æ­¤è‹¥åªæƒ³è¦è¾ƒä¸ºçº¯å‡€çš„Python2å’ŒPython3å…±å­˜çš„ï¼Œå¯ä»¥çœ‹æœ¬æ–‡æœ€åä¸€éƒ¨åˆ†ã€‚

### *æ“ä½œæ­¥éª¤*

------

1. é¦–å…ˆå®‰è£…**ä¸»ç‰ˆæœ¬**ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©**Anaconda2**ï¼ŒæŒ‰ç…§æ­£å¸¸æ­¥éª¤å®‰è£…å³å¯ï¼Œè¿™é‡Œå‡å®šå®‰è£…ç›®å½•ä¸º`D:\Anaconda2`ã€‚

   ![æ­¥éª¤1](./images/15332345662971.png)

2. åœ¨è¿™ä¸€æ­¥æ‰“ä¸Šé‚£ä¸¤ä¸ªå‹¾ã€‚

   ![æ­¥éª¤2](https://img-blog.csdn.net/20151231221831912)

   ç¬¬ä¸€ä¸ªé€‰é¡¹æ˜¯å°†å®‰è£…ç›®å½•åŠ å…¥åˆ°ç³»ç»Ÿçš„PATHç¯å¢ƒå˜é‡ä¸­ï¼Œä»¥ååœ¨CMDä¸­ä¾¿å¯ä»¥ç›´æ¥ç”¨pythonå‘½ä»¤å¯åŠ¨pythonã€‚ 
   ç¬¬äºŒä¸ªé€‰é¡¹æ˜¯è®©å…¶ä»–IDEèƒ½å¤Ÿæ£€æµ‹åˆ°Anaconda2å¹¶å°†Anaconda2ä½œä¸ºé»˜è®¤çš„Python 2.7ã€‚

3. å®‰è£…å¥½Anaconda2ä¹‹åï¼Œå†å®‰è£…Anaconda3ï¼Œè¿™é‡ŒAnaconda3çš„å®‰è£…ç›®å½•å¿…é¡»é€‰åœ¨**D:\Anaconda2\envs**å­ç›®å½•ä¸‹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæœ€åçš„â€py3â€å¯ä»¥è‡ªå·±å¦å–ã€‚

   ![æ­¥éª¤3](https://img-blog.csdn.net/20151231222220973)

4. è¿™é‡Œå–æ¶ˆæ‰é‚£ä¸¤ä¸ªå‹¾ï¼ˆæŒ‰ç…§å­—é¢æ„æ€ç†è§£ï¼Œæ‰“ä¸Šç¬¬äºŒä¸ªå‹¾åº”è¯¥æ˜¯æ²¡æœ‰å½±å“çš„ã€‚è‡³äºç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œç”±äºä¹‹å‰å·²ç»æŠŠAnaconda2æ·»åŠ åˆ°ç³»ç»ŸPATHè·¯å¾„ä¸‹äº†ï¼Œå› æ­¤å†æŠŠAnaconda3æ·»åŠ è¿›å»ï¼Œç”±äºé¡ºåºåœ¨Anaconda2çš„åé¢ï¼Œå‡ ä¹æ˜¯æ²¡æœ‰ä½œç”¨çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰å‹¾ä¸Šï¼‰ã€‚

   ![æ­¥éª¤4](https://img-blog.csdn.net/20151231222309050)

5. å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨CMDé‡Œé¢ç›´æ¥è¾“å…¥`python`ä¼šå¯åŠ¨**Python2**ï¼Œè€Œä½¿ç”¨`activate py3`ï¼ˆ**py3**å³ä¹‹å‰**Python3**å®‰è£…ç›®å½•æ–‡ä»¶å¤¹çš„åå­—ï¼‰å‘½ä»¤ä¹‹åï¼Œå†ä½¿ç”¨`python`å³å¯åˆ‡æ¢è‡³**Python3**ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ä½¿ç”¨`activate py3`å‘½ä»¤ä¹‹åï¼Œåœ¨å‘½ä»¤è¡Œå‰é¢ä¼šå‡ºç°ä¸€ä¸ª`[py3]`æ ‡è®°ï¼Œæ­¤æ—¶ä½¿ç”¨ä»»ä½•çš„`python`å‘½ä»¤éƒ½æ˜¯åœ¨**Python3**ä¸‹è¿›è¡Œçš„ã€‚ä½¿ç”¨`deactivate`å‘½ä»¤å¯å–æ¶ˆæ¿€æ´»**Python3**ã€‚

   ![æ­¥éª¤5](https://img-blog.csdn.net/20160101084125476)

### **çº¯å‡€Pythonå…±å­˜**

------

è¯´æ˜¯çº¯å‡€ï¼Œå…¶å®ä¹Ÿä¸å®Œå…¨â€œçº¯å‡€â€ï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°å¦å¤–ä¸€ä¸ªå‘è¡Œç‰ˆ**miniconda**ï¼Œå®ƒä»…åŒ…å«Pythonæœ¬èº«å’ŒCondaåŒ…ç®¡ç†å™¨ï¼Œå› æ­¤ä½“ç§¯ä¸å¤§ã€‚ä½¿ç”¨**miniconda**æ—¶çš„å…±å­˜å®‰è£…æ–¹æ³•ä¸ä¸Šè¿°æ­¥éª¤å®Œå…¨ä¸€è‡´ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚

[minicondaä¸‹è½½ä¸»é¡µ](http://conda.pydata.org/miniconda.html)

### **æ€»ç»“**

------

æœ¬æ–‡çš„å…±å­˜å®ç°æ–¹æ³•å…¶å®æ˜¯åŸºäº**conda**çš„åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„åŠŸèƒ½ï¼Œè¯¦æƒ…å¯è§[æ­¤é“¾æ¥](http://conda.pydata.org/docs/using/envs.html)ã€‚

å› æ­¤åœ¨é¦–å…ˆå®‰è£…ä¸»è¦ç‰ˆæœ¬ä¹‹åï¼Œä¹Ÿå¯ä½¿ç”¨`conda create -n py3 python=3`å‘½ä»¤æ¥å®‰è£…**Python3**ï¼Œä½†ç”±äºç½‘ç»œé—®é¢˜ï¼Œè¿™ç§æ–¹æ³•å®¹æ˜“å¤±è´¥ï¼Œæ‰€ä»¥è‡ªå·±å…ˆä¸‹è½½å¥½å®Œæ•´å®‰è£…åŒ…ï¼Œç„¶åå®‰è£…åˆ°ä¸»ç‰ˆæœ¬ä¸»ç›®å½•ä¸‹çš„`envs`æ–‡ä»¶å¤¹æ›´æ–¹ä¾¿ã€‚

æœ‰äººä¹Ÿè®¸ä¼šè¯´ç›´æ¥åŒæ—¶å®‰è£…**Anaconda2**å’Œ**Anaconda3**ï¼Œç„¶åå°†**Anaconda3**ç›®å½•ä¸‹çš„**python.exe**æ”¹ä¸º**python3.exe**ä¹Ÿå¯å®ç°ç±»ä¼¼çš„å…±å­˜ã€‚ä½†è¿™ç§æ–¹æ³•å­˜åœ¨ä¸€ä¸ªè¾ƒå¤§çš„ç¼ºé™·ï¼Œå³**Anaconda3**å†…åŒ…å«çš„æŸäº›IDEä¼šå·¥ä½œä¸æ­£å¸¸ï¼Œå¦‚**Jupyter Notebook**å’Œ**Spyder**ç­‰ï¼Œå› ä¸ºä»–ä»¬ä¾èµ–äºå®‰è£…ç›®å½•ä¸‹çš„**python.exe**ï¼Œä¸”å¤‡ç”¨ç‰ˆæœ¬çš„`pip`ç­‰å‘½ä»¤ä¹Ÿæ²¡åŠæ³•ç›´æ¥ä½¿ç”¨ï¼Œæ€»ä½“æ¥è¯´å¾ˆä¸æ–¹ä¾¿ã€‚

å¾ˆå¤šçš„æƒ…å†µä¸‹ä½¿ç”¨python3çš„èµ„æºä¼šæ¯”2å¤šä¸å°‘ï¼Œæ¯”å¦‚è¯´åœ¨xgbooståŒ…çš„å®‰è£…é—®é¢˜ä¸Šï¼Œpython2éœ€è¦ç”¨åˆ°GITï¼Œç¼–è¯‘å™¨ç­‰ï¼Œå…ˆä¸‹è½½æºç å†ç¼–è¯‘ï¼Œç„¶åæ·»åŠ è·¯å¾„ï¼Œä¹‹åé€šè¿‡GITè°ƒç”¨pythonå®‰è£…ï¼Œè¿˜ä¸ä¸€å®šæˆåŠŸã€‚åè§‚python3ï¼Œç½‘ä¸Šæœ‰ç°æˆçš„.whlæ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥pipä¸€ä¸‹å°±å¥½ï¼Œè½»æ¾åˆæ„‰å¿«ã€‚ä½†æ˜¯å¯¹äºä¹‹å‰ç”¨æƒ¯äº†python2ï¼Œå¹¶ä¸”æœ‰ä¸å°‘ä»£ç å·²ç»å†™åœ¨é‡Œè¾¹çš„åŒå­¦ï¼Œä¸€æ—¶é—´è¦æ¢æˆ3ä¹Ÿæ˜¯æœ‰ç‚¹å›°éš¾ï¼Œæ‰€ä»¥å°±éœ€è¦åŒæ—¶ä½¿ç”¨python2å’Œ3äº†ã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯åŸºäºæŸä¸ªç‰ˆæœ¬çš„anacondaï¼Œ2æˆ–è€…3éƒ½å¯ä»¥ï¼Œä¸‹é¢ä»¥2ä¸ºä¾‹ã€‚

é¦–å…ˆéœ€è¦æˆ‘ä»¬è®¾ç½®ä¸€ä¸‹anacondaï¼Œä½¿ç”¨æ¸…åçš„é•œåƒï¼ŒåŸåœ°å€ä¼šéå¸¸æ…¢ã€‚cmdä¸­è¾“å…¥
```
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes
```
è¿™ä¹‹ååœ¨ä½ çš„c:\Users\ç”¨æˆ·åä¸‹çš„.condarcä¸­å°±ä¼šå¤šäº†æˆ‘ä»¬æ·»åŠ çš„åœ°å€

åªéœ€è¦åˆ æ‰defaultsé‚£ä¸€è¡Œï¼Œä¿å­˜ä¸€ä¸‹å°±è®¾ç½®æˆåŠŸäº†ã€‚

ä¹‹åå¼€å§‹å¹²æ­£äº‹ï¼Œé¦–å…ˆåœ¨cmdä¸­å†™å…¥å‘½ä»¤ 
```bash
conda update conda
```
ç”¨äºæ›´æ–°anacondaï¼Œå®Œæˆå
```bash
conda create --name python3 python=3.6
activate python3
```
ç›¸å½“äºåœ¨condaç›®å½•çš„envsæ–‡ä»¶å¤¹ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç¯å¢ƒpython3ï¼Œå¹¶ä¸”é€šè¿‡activateå‘½ä»¤æ¿€æ´»äº†å®ƒï¼Œåœ¨activateå‘½ä»¤åä½ çš„cmdå‰åº”è¯¥å¤šäº†ä¸€ä¸ªæ‹¬å·é‡Œé¢å†™ç€python3


ç„¶ååœ¨æ¿€æ´»äº†çš„python3ç¯å¢ƒä¸­å®‰è£…anacondaçš„åº“
```bash
conda install anaconda
```
å› ä¸ºä¹‹å‰å·²ç»è®¾ç½®äº†é•œåƒï¼Œå¦‚æœä½ çš„ç½‘é€Ÿä¸å·®çš„è¯åº”è¯¥ä¸€ä¼šå°±å¥½äº†ï¼Œå®Œæˆä¹‹åæ¬£å–œçš„å‘ç°

æ‰€æœ‰ä¸œè¥¿éƒ½å¤šäº†python3çš„ç‰ˆæœ¬ï¼Œå½“ç„¶å¦‚æœä½ ä¹ æƒ¯ç”¨notebookæ¥debugçš„è¯åŒæ ·å¯ä»¥å‚ç…§ä¹‹å‰çš„åšå®¢é‡Œæåˆ°çš„ï¼Œç»™python3ä¹Ÿè®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰å·¥ä½œç›®å½•çš„notebookå¿«æ·æ–¹å¼ã€‚

ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ç”¨å®ƒä»¬å–½ï¼Œæ‰“å¼€python3çš„notebookæ¥çœ‹çœ‹æ˜¯ä¸æ˜¯çœŸçš„python3å¥½äº†ï¼Œè¾“å…¥
å¼€å¿ƒåœ°çœ‹è§

å¤§åŠŸå‘Šæˆã€‚





#### æ›´æ”¹pipæº

### windows
åœ¨ c:\user\username\pip\pip.iniä¸­åŠ å…¥
```
[global]
index-url=https://pypi.tuna.tsinghua.edu.cn/simple 
[install]  
trusted-host=pypi.tuna.tsinghua.edu.cn
disable-pip-version-check = true  
timeout = 6000 
```

>æ³¨æ„ï¼šé¦–å…ˆéœ€è¦åˆ›å»ºpipæ–‡ä»¶å¤¹ä¸pip.iniæ–‡ä»¶ã€‚

#### linuxï¼ˆubuntuï¼‰

åŒæ ·é¦–å…ˆå»ºpipçš„é…ç½®æ–‡ä»¶

```bash
cd $HOME  
mkdir .pip  
cd .pip
sudo vim pip.conf  
```
åœ¨é‡Œé¢æ·»åŠ 
```
[global]  
index-url=https://pypi.tuna.tsinghua.edu.cn/simple
[install]  
trusted-host=pypi.tuna.tsinghua.edu.cn 
disable-pip-version-check = true  
timeout = 6000 
```


#### æ›´æ”¹anacondaæº
```bash
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ # ä¸è¦æœ‰å¼•å·ï¼Œç½‘ä¸Šæœ‰çš„å¸–å­ä¼šåœ¨é“¾æ¥ä¸¤ç«¯åŠ å¼•å·ï¼Œéœ€è¦å»æ‰ã€‚
conda config --set show_channel_urls yes
```
å¥½äº†ï¼Œè¿™ä¸‹å¯ä»¥å¼€å¿ƒçš„ä¸‹è½½ä¸œè¥¿äº†

----



#### å¦‚ä½•åˆ é™¤æ·»åŠ çš„æºå‘¢ï¼Ÿ
```bash
conda config --remove channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
```
#### çœ‹çœ‹å½“å‰çš„ cofig æ˜¯ä»€ä¹ˆæ ·çš„
```bash
conda config --show
```
## å››ã€pipå’Œcondaæœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ
æ—¢ç„¶éƒ½æ˜¯å…³äºpythonçš„åŒ…ç®¡ç†å·¥å…·ä¸ºä»€ä¹ˆæœ‰äº†pip æˆ‘ä»¬è¿˜éœ€è¦condaï¼Ÿåœ¨stackoverflowä¸Šçš„è‹±æ–‡å›ç­”ï¼š
>
> Having been involved in the python world for so long, we are all aware of pip, easy_install, and virtualenv, but these tools did not meet all of our specific requirements. The main problem is that they are focused around Python, neglecting non-Python library dependencies, such as HDF5, MKL, LLVM, etc., which do not have a setup.py in their source code and also do not install files into Pythonâ€™s site-packages directory.
> So Conda is a packaging tool and installer that aims to do more than what pip does; handle library dependencies outside of the Python packages as well as the Python packages themselves. Conda also creates a virtual environment, like virtualenv does.
>
> As such, Conda should be compared to Buildout perhaps, another tool that lets you handle both Python and non-Python installation tasks.
>
> Because Conda introduces a new packaging format, you cannot use pip and Conda interchangeably;  pip cannot install the Conda package format. You can use the two tools side by side but they do not interoperate either.
>

> åœ¨pythonçš„ä¸–ç•Œé‡Œä¹Ÿæµ¸æ·«å¤šå¹´äº†ï¼Œæˆ‘ä»¬æ—©å·²ä¹ æƒ¯æœ‰ pip ,easy_install å’Œvirtualenvçš„ä¸–ç•Œï¼Œä½†æ˜¯è¿™äº›ğŸ”§æ²¡æœ‰è§£å†³æˆ‘ä»¬æ‰€æœ‰çš„éœ€æ±‚å“¦ã€‚è¿™å…¶ä¸­ä¸»è¦çš„é—®é¢˜æ˜¯ä»–ä»¬å…¨éƒ¨éƒ½é›†ä¸­è§£å†³å…³äºpythonç›¸å…³é—®é¢˜è€Œå¿½ç•¥äº†épythonåº“çš„ä¾èµ–å…³ç³»ã€‚(è¿™å¥æˆ‘æ²¡ä»–çœ‹æ˜ç™½),å°±åƒ HDF5, MKL LLVM,etcç­‰ï¼Œåœ¨ä»–ä»¬çš„æºç ä¸­å¹¶æ²¡æœ‰setup.pyè¿™ç§ä¸œè¥¿è€Œä¸”ä¹Ÿæ²¡æœ‰å®‰è£…æ–‡ä»¶åœ¨pythonçš„site-packages ç›®å½•ä¸­ã€‚
>
> æ‰€æœ‰condaå°±æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·å’Œå®‰è£…å·¥å…·ï¼Œå®ƒå°±æ˜¯è¦åšæ¯”pipæ›´å¤šçš„äº‹æƒ…ï¼›åœ¨python-site-packagesä¹‹å¤–ç®¡ç†python åº“ä¾èµ–å…³ç³»ã€‚ è€Œä¸”condaåŒæ ·ä¹Ÿåƒvirtualenvä¸€æ ·åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚
>
> condaå¯ä»¥è®©ä½ åŒæ—¶ç®¡ç†å®‰è£…å¤„ç†ä½ æœ‰å…³pythonçš„ä»»åŠ¡å’Œè·Ÿpythonæ— å…³çš„ä»»åŠ¡
>
> condaä½¿ç”¨äº†ä¸€ä¸ªæ–°çš„åŒ…æ ¼å¼ï¼Œä½ ä¸èƒ½äº¤æ›¿ä½¿ç”¨pip å’Œcondaã€‚å› ä¸ºpipä¸èƒ½å®‰è£…å’Œè§£æcondaçš„åŒ…æ ¼å¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå·¥å…· ä½†æ˜¯ä»–ä»¬æ˜¯ä¸èƒ½äº¤äº’çš„ã€‚
>

condaç¯å¢ƒçš„å¸¸ç”¨å¯åŠ¨å‘½ä»¤
```bash
# å¯åŠ¨
source activate xxx

# å…³é—­
source deactivate

# æ›´æ–°
conda env update -f environment.yml æ›´æ–°é…ç½®æ–‡ä»¶
```